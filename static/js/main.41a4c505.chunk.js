(this["webpackJsonptwitch-followers"]=this["webpackJsonptwitch-followers"]||[]).push([[0],{22:function(t,e,r){},33:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r.n(n),a=r(14),s=r.n(a),o=(r(22),r(7)),u=r(3),i=r.n(u),l=r(6),j=Object(n.createContext)(["",function(){}]),f=r(1),p=function(){var t=Object(n.useContext)(j),e=Object(o.a)(t,2)[1];return Object(f.jsx)("input",{onChange:function(t){return e(t.target.value)},type:"text",className:"SearchBar",placeholder:"Search"})},d=r(17),b=r(2),h=new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy")}),v=function(){var t=Object(l.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?login="+e,{headers:h});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),x=function(t){var e=t.profileName;return Object(f.jsxs)("div",{children:[e," doesn't exist, try again"]})},O=function(){var t=Object(b.g)().USER_LOGIN,e=Object(n.useContext)(j),r=Object(o.a)(e,1)[0],c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],u=a[1],h=Object(n.useState)(t),O=Object(o.a)(h,2),w=O[0],m=O[1],y=function(){var t=Object(l.a)(i.a.mark((function t(e){var r,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:if(c=t.sent,null===c||void 0===c||null===(r=c.data[0])||void 0===r?void 0:r.id){t.next=6;break}return t.abrupt("return",!1);case 6:return t.abrupt("return",null===c||void 0===c||null===(n=c.data[0])||void 0===n?void 0:n.id);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,y(r);case 3:t.sent?u(!0):m(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(f.jsx)(b.a,{to:"".concat("/twitch-followers","/").concat(r)}):Object(f.jsx)("div",{className:"SearchPage",children:Object(f.jsxs)("form",{onSubmit:k,className:"searchField",children:[Object(f.jsx)(d.a,{icon:"logos:twitch",className:"searchField__icon"}),Object(f.jsx)("div",{className:"searchField__text",children:Object(f.jsx)("p",{children:"Search for twitch user"})}),Object(f.jsx)(p,{}),w&&Object(f.jsx)(x,{profileName:w})]})})},w=function(){var t=Object(l.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy"),t.prev=1,t.next=4,fetch("https://api.twitch.tv/helix/users/follows?first=10&from_id="+e,{headers:h});case 4:return r=t.sent,t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),m=function(t){var e=t.follows;return Object(f.jsx)("div",{children:e.map((function(t){return t.to_name}))})},y=function(){var t=Object(b.g)().USER_LOGIN,e=Object(n.useState)(),r=Object(o.a)(e,2),c=r[0],a=r[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),j=u[0],p=u[1],d=function(){var t=Object(l.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:if(r=t.sent,null===r||void 0===r?void 0:r.data[0].id){t.next=6;break}return t.abrupt("return",!1);case 6:return t.abrupt("return",null===r||void 0===r?void 0:r.data[0].id);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(l.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(r=e.sent){e.next=7;break}p(!0),e.next=12;break;case 7:return e.t0=a,e.next=10,h(r);case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),j?Object(f.jsx)(b.a,{to:"".concat("/twitch-followers","/error/").concat(t)}):Object(f.jsxs)("div",{className:"profilePage",children:["",(null===c||void 0===c?void 0:c.data)&&Object(f.jsx)(m,{follows:c.data})]})},k=r(8),S=function(){var t=Object(n.useState)(""),e=Object(o.a)(t,2),r=e[0],c=e[1];return Object(f.jsx)(k.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)(b.d,{children:Object(f.jsxs)(j.Provider,{value:[r,c],children:[Object(f.jsx)(b.b,{path:["".concat("/twitch-followers","/"),"".concat("/twitch-followers","/error/:USER_LOGIN")],exact:!0,children:Object(f.jsx)(O,{})}),Object(f.jsx)(b.b,{path:"".concat("/twitch-followers","/:USER_LOGIN"),children:Object(f.jsx)(y,{})})]})})})})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.41a4c505.chunk.js.map