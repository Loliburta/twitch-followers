(this["webpackJsonptwitch-followers"]=this["webpackJsonptwitch-followers"]||[]).push([[0],{23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(15),s=n.n(a),o=(n(23),n(6)),u=n(2),i=n.n(u),l=n(5),f=Object(r.createContext)(["",function(){}]),j=n(1),p=function(){var t=Object(r.useContext)(f),e=Object(o.a)(t,2)[1];return Object(j.jsx)("input",{onChange:function(t){return e(t.target.value)},type:"text",className:"SearchBar",placeholder:"Search"})},h=n(18),b=n(4),d=new Headers({"Client-ID":"lqxmy7qfx05xmry1trwsrlcdnw6kac",Authorization:"Bearer ".concat("0s215bov7iedkuvktsflhdi9rptb65")}),O=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?login="+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,console.log(r),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(b.g)().USER_LOGIN,e=Object(r.useContext)(f),n=Object(o.a)(e,1)[0],c=Object(r.useState)(!1),a=Object(o.a)(c,2),s=a[0],u=a[1],d=Object(r.useState)(""),x=Object(o.a)(d,2),v=x[0],w=x[1],m=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){t&&w("".concat(t," was not found"))}),[]);var _=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),w("searching for ".concat(n)),t.next=4,m(n);case 4:t.sent?u(!0):w("".concat(n," was not found"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/").concat(n)}):Object(j.jsx)("div",{className:"SearchPage",children:Object(j.jsxs)("form",{onSubmit:_,className:"searchField",children:[Object(j.jsx)(h.a,{icon:"logos:twitch",className:"searchField__icon"}),Object(j.jsx)("div",{className:"searchField__text",children:"Search for a twitch user"}),Object(j.jsx)(p,{}),v]})})},v=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("0s215bov7iedkuvktsflhdi9rptb65"),t.prev=1,t.next=4,fetch("https://api.twitch.tv/helix/users/follows?first=100&from_id="+e,{headers:d});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),w=n(3),m=function(t){t.from_id,t.from_login,t.from_name,t.to_id;var e=t.to_name,n=t.followed_at,c=t.view_count,a=t.profile_image_url,s=(t.offline_image_url,t.login),u=Object(r.useState)(""),i=Object(o.a)(u,2),l=i[0],f=i[1];return Object(r.useEffect)((function(){f(function(t){var e=t.slice(0,4),n=t.slice(5,7),r=t.slice(8,10);return"".concat(r,".").concat(n,".").concat(e)}(n.toString()))}),[n]),Object(j.jsxs)("div",{className:"entry",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",children:Object(j.jsx)("img",{src:a,alt:"Profile",className:"entry__img"})}),Object(j.jsxs)("div",{className:"entry__info",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",className:"entry__info__login",children:e}),Object(j.jsxs)("p",{children:[c," views"]}),Object(j.jsx)("p",{children:"followed at"}),Object(j.jsx)("p",{children:l})]})]})},_=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?"+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),g=function(t){var e=t.follows,n=Object(r.useState)(),c=Object(o.a)(n,2),a=c[0],s=c[1],u=function(t){return t.map((function(t){return"&login=".concat(t.to_login)})).join("").slice(1)},f=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(t,e){return t.map((function(t){return Object(w.a)(Object(w.a)({},e.find((function(e){return e.login===t.to_login&&e}))),t)}))};return Object(r.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u(e),t.next=3,f(n);case 3:(r=t.sent)&&s(p(e,r.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(j.jsx)("div",{className:"followedList",children:a&&a.map((function(t){return Object(j.jsx)(m,Object(w.a)({},t))}))})},k=function(){var t=Object(r.useContext)(f),e=Object(o.a)(t,1)[0],n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],s=c[1],u=Object(b.g)().USER_LOGIN,h=Object(r.useState)(),d=Object(o.a)(h,2),x=d[0],w=d[1],m=Object(r.useState)(!1),_=Object(o.a)(m,2),k=_[0],S=_[1],y=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s("searching for ".concat(e)),t.next=4,y(e);case 4:if(r=t.sent){t.next=9;break}s("".concat(e," was not found")),t.next=14;break;case 9:return t.t0=w,t.next=12,N(r);case 12:t.t1=t.sent,(0,t.t0)(t.t1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(u);case 2:if(e=t.sent){t.next=7;break}S(!0),t.next=12;break;case 7:return t.t0=w,t.next=10,N(e);case 10:t.t1=t.sent,(0,t.t0)(t.t1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),k?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/error/").concat(e)}):Object(j.jsx)("div",{className:"profilePage",children:x&&x.data&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("form",{onSubmit:E,className:"searchField",children:Object(j.jsxs)("div",{className:"searchBarWrapper",children:[Object(j.jsx)("p",{className:"searchBarWrapper__text",children:"Search for another user"}),Object(j.jsx)(p,{}),a]})}),Object(j.jsx)(g,{follows:x.data})]})})},S=n(9),y=function(){var t=Object(r.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1];return Object(j.jsx)(S.a,{children:Object(j.jsx)("div",{className:"appWrapper",children:Object(j.jsx)(b.d,{children:Object(j.jsxs)(f.Provider,{value:[n,c],children:[Object(j.jsx)(b.b,{path:["".concat("/twitch-followers","/"),"".concat("/twitch-followers","/error/:USER_LOGIN")],exact:!0,children:Object(j.jsx)(x,{})}),Object(j.jsx)(b.b,{path:"".concat("/twitch-followers","/:USER_LOGIN"),exact:!0,children:Object(j.jsx)(k,{})})]})})})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.957f12c6.chunk.js.map