(this["webpackJsonptwitch-followers"]=this["webpackJsonptwitch-followers"]||[]).push([[0],{23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(15),s=n.n(a),o=(n(23),n(6)),u=n(2),i=n.n(u),l=n(5),f=Object(r.createContext)(["",function(){}]),j=n(1),p=function(){var t=Object(r.useContext)(f),e=Object(o.a)(t,2)[1];return Object(j.jsx)("input",{onChange:function(t){return e(t.target.value)},type:"text",className:"SearchBar",placeholder:"Search"})},h=n(18),b=n(4),d=new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy")}),O=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?login="+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,console.log(r),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(b.g)().USER_LOGIN,e=Object(r.useContext)(f),n=Object(o.a)(e,1)[0],c=Object(r.useState)(!1),a=Object(o.a)(c,2),s=a[0],u=a[1],d=Object(r.useState)(""),v=Object(o.a)(d,2),x=v[0],w=v[1],m=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){t&&w("".concat(t," was not found"))}),[]);var _=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),w("searching for ".concat(n)),t.next=4,m(n);case 4:t.sent?u(!0):w("".concat(n," was not found"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/").concat(n)}):Object(j.jsx)("div",{className:"SearchPage",children:Object(j.jsxs)("form",{onSubmit:_,className:"searchField",children:[Object(j.jsx)(h.a,{icon:"logos:twitch",className:"searchField__icon"}),Object(j.jsx)("div",{className:"searchField__text",children:Object(j.jsx)("p",{children:"Search for a twitch user"})}),Object(j.jsx)(p,{}),x]})})},x=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy"),t.prev=1,t.next=4,fetch("https://api.twitch.tv/helix/users/follows?first=100&from_id="+e,{headers:d});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),w=n(3),m=function(t){t.from_id,t.from_login,t.from_name,t.to_id;var e=t.to_name,n=t.followed_at,c=t.view_count,a=t.profile_image_url,s=(t.offline_image_url,t.login),u=Object(r.useState)(""),i=Object(o.a)(u,2),l=i[0],f=i[1];return Object(r.useEffect)((function(){f(function(t){var e=t.slice(0,4),n=t.slice(5,7),r=t.slice(8,10);return"".concat(r,".").concat(n,".").concat(e)}(n.toString()))}),[n]),Object(j.jsxs)("div",{className:"entry",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",children:Object(j.jsx)("img",{src:a,alt:"Profile",className:"entry__img"})}),Object(j.jsxs)("div",{className:"entry__info",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",className:"entry__info__login",children:e}),Object(j.jsxs)("p",{children:[c," views"]}),Object(j.jsx)("p",{children:"followed at"}),Object(j.jsx)("p",{children:l})]})]})},_=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?"+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),g=function(t){var e=t.follows,n=Object(r.useState)(),c=Object(o.a)(n,2),a=c[0],s=c[1],u=function(t){return t.map((function(t){return"&login=".concat(t.to_login)})).join("").slice(1)},f=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(t,e){return t.map((function(t){return Object(w.a)(Object(w.a)({},e.find((function(e){return e.login===t.to_login&&e}))),t)}))};return Object(r.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u(e),t.next=3,f(n);case 3:(r=t.sent)&&s(p(e,r.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(j.jsx)("div",{className:"followedList",children:a&&a.map((function(t){return Object(j.jsx)(m,Object(w.a)({},t))}))})},y=function(){var t=Object(b.g)().USER_LOGIN,e=Object(r.useState)(),n=Object(o.a)(e,2),c=n[0],a=n[1],s=Object(r.useState)(!1),u=Object(o.a)(s,2),f=u[0],p=u[1],h=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(n=e.sent){e.next=7;break}p(!0),e.next=12;break;case 7:return e.t0=a,e.next=10,d(n);case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),f?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/error/").concat(t)}):Object(j.jsx)("div",{className:"profilePage",children:c&&c.data&&Object(j.jsx)(g,{follows:c.data})})},k=n(9),S=function(){var t=Object(r.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1];return Object(j.jsx)(k.a,{children:Object(j.jsx)("div",{children:Object(j.jsx)(b.d,{children:Object(j.jsxs)(f.Provider,{value:[n,c],children:[Object(j.jsx)(b.b,{path:["".concat("/twitch-followers","/"),"".concat("/twitch-followers","/error/:USER_LOGIN")],exact:!0,children:Object(j.jsx)(v,{})}),Object(j.jsx)(b.b,{path:"".concat("/twitch-followers","/:USER_LOGIN"),exact:!0,children:Object(j.jsx)(y,{})})]})})})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d20ef6b1.chunk.js.map