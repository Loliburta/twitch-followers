(this["webpackJsonptwitch-followers"]=this["webpackJsonptwitch-followers"]||[]).push([[0],{23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(15),s=n.n(a),o=(n(23),n(8)),u=n(2),i=n.n(u),l=n(5),j=Object(r.createContext)(["",function(){}]),f=n(1),p=function(){var t=Object(r.useContext)(j),e=Object(o.a)(t,2)[1];return Object(f.jsx)("input",{onChange:function(t){return e(t.target.value)},type:"text",className:"SearchBar",placeholder:"Search"})},h=n(18),b=n(4),d=new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy")}),x=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?login="+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,console.log(r),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.g)().USER_LOGIN,e=Object(r.useContext)(j),n=Object(o.a)(e,1)[0],c=Object(r.useState)(!1),a=Object(o.a)(c,2),s=a[0],u=a[1],d=Object(r.useState)(""),O=Object(o.a)(d,2),v=O[0],w=O[1],m=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){t&&w("".concat(t," was not found"))}),[]);var g=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),w("searching for ".concat(n)),t.next=4,m(n);case 4:t.sent?u(!0):w("".concat(n," was not found"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(f.jsx)(b.a,{to:"".concat("/twitch-followers","/").concat(n)}):Object(f.jsx)("div",{className:"SearchPage",children:Object(f.jsxs)("form",{onSubmit:g,className:"searchField",children:[Object(f.jsx)(h.a,{icon:"logos:twitch",className:"searchField__icon"}),Object(f.jsx)("div",{className:"searchField__text",children:Object(f.jsx)("p",{children:"Search for a twitch user"})}),Object(f.jsx)(p,{}),v]})})},v=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy"),t.prev=1,t.next=4,fetch("https://api.twitch.tv/helix/users/follows?first=100&from_id="+e,{headers:d});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),w=n(3),m=function(t){var e=t.from_id,n=t.from_login,r=t.from_name,c=t.to_id,a=t.to_name,s=t.followed_at;return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:e}),Object(f.jsx)("p",{children:n}),Object(f.jsx)("p",{children:r}),Object(f.jsx)("p",{children:c}),Object(f.jsx)("p",{children:a}),Object(f.jsx)("p",{children:s})]})},g=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.twitch.tv/helix/users?"+e,{headers:d});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),y=function(t){var e=t.follows,n=e.map((function(t){return"&login=".concat(t.to_login)})).join("").slice(1);console.log(n);var c=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:return n=t.sent,console.log(n),t.abrupt("return");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){c(n)}),[n]),Object(f.jsx)("div",{children:e.map((function(t){return Object(f.jsx)(m,Object(w.a)({},t))}))})},_=function(){var t=Object(b.g)().USER_LOGIN,e=Object(r.useState)(),n=Object(o.a)(e,2),c=n[0],a=n[1],s=Object(r.useState)(!1),u=Object(o.a)(s,2),j=u[0],p=u[1],h=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r||null===(n=r.data[0])||void 0===n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(n=e.sent){e.next=7;break}p(!0),e.next=12;break;case 7:return e.t0=a,e.next=10,d(n);case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),j?Object(f.jsx)(b.a,{to:"".concat("/twitch-followers","/error/").concat(t)}):Object(f.jsx)("div",{className:"profilePage",children:c&&c.data&&Object(f.jsx)(y,{follows:c.data})})},k=n(9),S=function(){var t=Object(r.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1];return Object(f.jsx)(k.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)(b.d,{children:Object(f.jsxs)(j.Provider,{value:[n,c],children:[Object(f.jsx)(b.b,{path:["".concat("/twitch-followers","/"),"".concat("/twitch-followers","/error/:USER_LOGIN")],exact:!0,children:Object(f.jsx)(O,{})}),Object(f.jsx)(b.b,{path:"".concat("/twitch-followers","/:USER_LOGIN"),exact:!0,children:Object(f.jsx)(_,{})})]})})})})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.614bbc20.chunk.js.map