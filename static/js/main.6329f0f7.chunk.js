(this["webpackJsonptwitch-followers"]=this["webpackJsonptwitch-followers"]||[]).push([[0],{23:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(15),s=r.n(a),o=(r(23),r(6)),i=r(2),u=r.n(i),l=r(5),f=Object(n.createContext)(["",function(){}]),j=r(1),p=function(){var e=Object(n.useContext)(f),t=Object(o.a)(e,2)[1];return Object(j.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"text",className:"SearchBar",placeholder:"Search"})},h=r(18),b=r(4),d=new Headers({"Client-ID":"lqxmy7qfx05xmry1trwsrlcdnw6kac",Authorization:"Bearer ".concat("0s215bov7iedkuvktsflhdi9rptb65")}),O=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.twitch.tv/helix/users?login="+t,{headers:d});case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,console.log(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.g)().USER_LOGIN,t=Object(n.useContext)(f),r=Object(o.a)(t,1)[0],c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1],d=Object(n.useState)(""),x=Object(o.a)(d,2),v=x[0],w=x[1],m=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n||null===(r=n.data[0])||void 0===r?void 0:r.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){e&&w("".concat(e," was not found"))}),[]);var _=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w("searching for ".concat(r)),e.next=4,m(r);case 4:e.sent?i(!0):w("".concat(r," was not found"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/").concat(r)}):Object(j.jsx)("div",{className:"SearchPage",children:Object(j.jsxs)("form",{onSubmit:_,className:"searchField",children:[Object(j.jsx)(h.a,{icon:"logos:twitch",className:"searchField__icon"}),Object(j.jsx)("div",{className:"searchField__text",children:"Search for a twitch user"}),Object(j.jsx)(p,{}),Object(j.jsx)("p",{className:"searchField__searchMessage",children:v})]})})},v=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("0s215bov7iedkuvktsflhdi9rptb65"),e.prev=1,e.next=4,fetch("https://api.twitch.tv/helix/users/follows?first=100&from_id="+t,{headers:d});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),w=r(3),m=function(e){e.from_id,e.from_login,e.from_name,e.to_id;var t=e.to_name,r=e.followed_at,c=e.view_count,a=e.profile_image_url,s=(e.offline_image_url,e.login),i=Object(n.useState)(""),u=Object(o.a)(i,2),l=u[0],f=u[1];return Object(n.useEffect)((function(){f(function(e){var t=e.slice(0,4),r=e.slice(5,7),n=e.slice(8,10);return"".concat(n,".").concat(r,".").concat(t)}(r.toString()))}),[r]),Object(j.jsx)("div",{className:"entryWrapper",children:Object(j.jsxs)("div",{className:"entry",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",children:Object(j.jsx)("img",{src:a,alt:"Profile",className:"entry__img"})}),Object(j.jsxs)("div",{className:"entry__info",children:[Object(j.jsx)("a",{href:"https://www.twitch.tv/".concat(s),target:"_blank",rel:"noreferrer",className:"entry__info__login",children:t}),Object(j.jsxs)("p",{className:"entry__info__views",children:[Object(j.jsx)("span",{className:"entry__info__views__count",children:c})," ","views"]}),Object(j.jsx)("p",{children:"followed at"}),Object(j.jsx)("p",{children:l})]})]})})},_=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.twitch.tv/helix/users?"+t,{headers:d});case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.follows,r=Object(n.useState)(),c=Object(o.a)(r,2),a=c[0],s=c[1],i=function(e){return e.map((function(e){return"&login=".concat(e.to_login)})).join("").slice(1)},f=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:return r=e.sent,console.log(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){return e.map((function(e){return Object(w.a)(Object(w.a)({},t.find((function(t){return t.login===e.to_login&&t}))),e)}))};return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i(t),e.next=3,f(r);case 3:(n=e.sent)&&s(p(t,n.data));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(j.jsx)("div",{className:"followedList",children:a&&a.map((function(e){return Object(j.jsx)(m,Object(w.a)({},e))}))})},k=function(){var e=Object(n.useContext)(f),t=Object(o.a)(e,1)[0],r=Object(n.useState)(""),c=Object(o.a)(r,2),a=c[0],s=c[1],i=Object(b.g)().USER_LOGIN,h=Object(n.useState)(),d=Object(o.a)(h,2),x=d[0],w=d[1],m=Object(n.useState)(!1),_=Object(o.a)(m,2),k=_[0],N=_[1],y=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n||null===(r=n.data[0])||void 0===r?void 0:r.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s("searching for ".concat(t)),e.next=4,y(t);case 4:if(n=e.sent){e.next=9;break}s("".concat(t," was not found")),e.next=15;break;case 9:return e.t0=w,e.next=12,S(n);case 12:e.t1=e.sent,(0,e.t0)(e.t1),s("".concat(t," follows"));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(i);case 2:if(t=e.sent){e.next=7;break}N(!0),e.next=13;break;case 7:return s("".concat(i," follows")),e.t0=w,e.next=11,S(t);case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),k?Object(j.jsx)(b.a,{to:"".concat("/twitch-followers","/error/").concat(t)}):Object(j.jsx)("div",{className:"profilePage",children:x&&x.data&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("form",{onSubmit:E,className:"searchField",children:Object(j.jsxs)("div",{className:"searchBarWrapper",children:[Object(j.jsx)("p",{className:"searchBarWrapper__text",children:"Search for another user"}),Object(j.jsx)(p,{}),Object(j.jsx)("p",{className:"searchBarWrapper__searchMessage",children:a})]})}),Object(j.jsx)(g,{follows:x.data})]})})},N=r(9),y=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),r=t[0],c=t[1];return Object(j.jsx)(N.a,{children:Object(j.jsx)("div",{className:"appWrapper",children:Object(j.jsx)(b.d,{children:Object(j.jsxs)(f.Provider,{value:[r,c],children:[Object(j.jsx)(b.b,{path:["".concat("/twitch-followers","/"),"".concat("/twitch-followers","/error/:USER_LOGIN")],exact:!0,children:Object(j.jsx)(x,{})}),Object(j.jsx)(b.b,{path:"".concat("/twitch-followers","/:USER_LOGIN"),exact:!0,children:Object(j.jsx)(k,{})})]})})})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.6329f0f7.chunk.js.map